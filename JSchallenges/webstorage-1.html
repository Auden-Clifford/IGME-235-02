<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Web Storage Example</title>
</head>
<body>

<div>
What is your name -> <input type='text' id='nameField'>
</div>

<div>
What is your favorite color -> 
<select id="colorSelect">
	<option value="red">Red</option>
	<option value="green">Green</option>
	<option value="blue">Blue</option>
	<option value="magenta">Magenta</option>
	<option value="cyan">Cyan</option>
	<option value="white">White</option>
	<option value="gray">Gray</option>
</select>

<div>
    What is your quest -> 
    <select id="questSelect">
        <option value="grail">I seek the Holy Grail</option>
        <option value="justice">To end injustice!</option>
        <option value="pokemon">To be the very best, like no one ever was!</option>
        <option value="jojo">To become a GangStar.</option>
        <option value="onePiece">To find the One Piece!</option>
        <option value="robot">To destroy all humans.</option>
        <option value="class">I don't know man, I'm just trying to get to class.</option>
    </select>
</div>

</body>
<script>

/* This stuff happens "onload" */
// declare some constants
const nameField = document.querySelector("#nameField");
const colorSelect = document.querySelector("#colorSelect");
const questSelect = document.querySelector("#questSelect");
const prefix = "awc6002"; // change 'abc1234' to your banjo id
const nameKey = prefix + "name"
const colorKey = prefix + "color";
const questKey = prefix + "quest";

// grab the stored data, will return `null` if the user has never been to this page
const storedName = localStorage.getItem(nameKey);
const storedColor = localStorage.getItem(colorKey);
const storedQuest = localStorage.getItem(questKey);

// if we find a previously set name value, display it
if (storedName){
	nameField.value = storedName;
}else{
	nameField.value = "Turbo"; // a default value if `nameField` is not found
}

// if we find a previously set color value, display it
if (storedColor){
	colorSelect.querySelector(`option[value='${storedColor}']`).selected = true;
}

// if we find a previously set quest value, display it
if (storedQuest){
	questSelect.querySelector(`option[value='${storedQuest}']`).selected = true;
}

/* This stuff happens later when the user does something */
// when the user changes their favorites, update localStorage
nameField.onchange = e=>{ localStorage.setItem(nameKey, e.target.value); };
colorSelect.onchange = e=>{ localStorage.setItem(colorKey, e.target.value); };
questSelect.onchange = e=>{ localStorage.setItem(questKey, e.target.value); };


</script>
</html>